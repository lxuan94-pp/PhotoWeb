<!DOCTYPE html>
<html>
<head>
<title>注册</title>
<link href="css/bootstrap.css" type="text/css" rel="stylesheet" media="all">
<link href="css/style.css" type="text/css" rel="stylesheet" media="all">
<script src="http://cdn.static.runoob.com/libs/angular.js/1.4.6/angular.min.js"></script>
<!--web-font-->
<link href='http://fonts.useso.com/css?family=Playfair+Display:400,700,900,400italic,700italic,900italic' rel='stylesheet' type='text/css'>
<link href='http://fonts.useso.com/css?family=Roboto+Condensed:300italic,400italic,700italic,400,300,700' rel='stylesheet' type='text/css'>
<!--//web-font-->
<!-- Custom Theme files -->
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="keywords" content="Excursion Responsive web template, Bootstrap Web Templates, Flat Web Templates, Andriod Compatible web template, 
	Smartphone Compatible web template, free webdesigns for Nokia, Samsung, LG, SonyErricsson, Motorola web design" />
<script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>
<!-- //Custom Theme files -->
<!-- js -->
<script src="https://ajax.useso.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>  
<!-- //js -->	
<!-- start-smoth-scrolling-->
<script type="text/javascript" src="js/move-top.js"></script>
<script type="text/javascript" src="js/easing.js"></script>	
<link rel="stylesheet" href="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/css/bootstrap.min.css">  
<script src="http://cdn.static.runoob.com/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript">
		jQuery(document).ready(function($) {
			$(".scroll").click(function(event){
				event.preventDefault();
				$('html,body').animate({scrollTop:$(this.hash).offset().top},1000);
			});
		});
    </script>
    <script src="js/bootstrap.js"></script>
    <script src="/Scripts/angular/angular-1.4.1/angular.min.js"></script>
    <script src="/Scripts/angular/angular-1.4.1/angular.js"></script>
    <script src="/Scripts/angular/angular-1.4.1/angular-cookies.js"></script>
    <script>
        var user = "guest";//默认游客权限

        var app = angular.module('app', ['ngCookies']);
        app.controller('siteCtrl', ['$cookieStore', '$scope', '$http',function ($cookieStore,$scope, $http) {
            $scope.signUp = function () {
                $http({
                    method: 'post',
                    url: "http://localhost:51060/api/User/signup",
                    data: { name: $scope._name, passWord: $scope._passWord, email: $scope._email_ }
                })
               .success(function (data) {
                   //注册成功则跳转，注册失败显示失败原因
                   if (data == "注册成功") {
                       user = $scope._name;
                       $scope.setUser(user);
                       window.location.href = "myshare.html";
                   } else
                   {
                       alert(data);
                   }
               })
               .error(function (data) { alert("访问服务器失败"); });
            };

            $scope.getUser = function () {
                var favoriteCookie = $cookieStore.get('user');
                return favoriteCookie;
            }

            $scope.setUser = function (user) {
                $cookieStore.put('user', user);
            }
        }]);


    </script>
<!--//end-smoth-scrolling-->
</head>
<body >
	<div id="formbackground" style="position:absolute; z-index:-1;"><img src="images/bg_7.jpg" height="100%" width="100%"/></div>
    <script type="text/javascript">
    $(function(){
    $('#formbackground').height($(window).height());
    $('#formbackground').width($(window).width());
    });
    </script>
	<!--navigation-->
	<div class="top-nav">
		<nav class="navbar navbar-default">
			<div class="container">
				<div class="navbar-header">
					<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
						<span class="sr-only">Toggle navigation</span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
				</div>
				<!-- Collect the nav links, forms, and other content for toggling -->
				<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
					<ul class="nav navbar-nav navbar-left">
						<li><a href="index.html">首页</a></li>
						<li><a href="share.html">图片分享</a></li>
						<li><a href="login.html" class="active">我的分享</a></li>
					</ul>	
					<div class="social-icons">
						<ul>
							<li><a href="#"></a></li>
							<li><a href="https://www.facebook.com/" class="fb"></a></li>
						</ul>	
					</div>
					<div class="clearfix"> </div>
				</div>
			</div>	
		</nav>		
	</div>	

	<div class="header">
		<div class="container">
			<div class="navbar-header">
				<a class="navbar-brand" href="index.html"><img src="images/logo.png" style= "width:50%;height:50%;" alt=""></a>
			</div>	
			<form class="navbar-form navbar-right" role="search">
				<div class="form-group">
					<input type="text" class="form-control" placeholder="搜索……">
				</div>
				<button type="submit" class="btn btn-default" aria-label="Left Align">
					<span class="glyphicon glyphicon-search" aria-hidden="true"></span>
				</button>
			</form>	
		</div>	
	</div>

	<div  class = "main_box_1 " >
		
      <div class = "login_box" ng-app="app" ng-controller="siteCtrl" ng-init="setUser('guest')">
      	<div class= "login_form_2">
      		<form role = "form" class = "login_form " >
               <div class = "form-group" >
                 <label for="name" class = "t" >请输入用户名：</lable>
                 <input type="text" class = "form-control x400 in"  placeholder = "用户名" ng-model="_name">
               </div>
                 <div class = "form-group" >
                 <label for="name" class = "t">请输入电话或邮箱：</lable>
                 <input type="text"  class = "form-control x400 in"  placeholder = "电话/邮箱" ng-model="_email_">
               </div>
              
               <div class = "form-group">
                 <label for="password" class = "t">请确定密码</lable>
                 <input type="password" class = "form-control x400 in" placeholder = "请输入密码……" ng-model="_passWord" >
               </div>

               <div class = "checkbox">
                 <label style= "color:#fff">
                 <input type="checkbox"  > 我同意保密协议
                 </label>
               </div>
               <button class="submit_2 submit_button" ng-click="signUp()">注册</button>

            </form>
        </div>
      </div>
	</div>
   
</body>
</html>